/* ─── Design System: CSS Custom Properties ─── */
:root {
	/* Primary: Warm Teal */
	--color-primary: #14B8A6;
	--color-primary-hover: #0D9488;
	--color-primary-light: #CCFBF1;
	--color-primary-glow: rgba(20, 184, 166, 0.2);

	/* Accent: Coral/Orange */
	--color-accent: #F97316;
	--color-accent-hover: #EA580C;
	--color-accent-light: #FFF7ED;

	/* Warm Neutrals */
	--color-bg: #F4F0E8;
	--color-surface: #FFFFFF;
	--color-surface-alt: #F5F5F0;
	--color-border: #E8E6E0;
	--color-border-hover: #D4D1C9;
	--color-text: #292524;
	--color-text-secondary: #78716C;
	--color-text-muted: #A8A29E;

	/* Semantic */
	--color-success: #22C55E;
	--color-success-bg: rgba(34, 197, 94, 0.1);
	--color-warning: #F59E0B;
	--color-warning-bg: rgba(245, 158, 11, 0.1);
	--color-error: #EF4444;
	--color-error-bg: rgba(239, 68, 68, 0.1);

	/* Shadows */
	--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
	--shadow-md: 0 2px 8px rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.08);
	--shadow-hover: 0 6px 20px rgba(0, 0, 0, 0.1);

	/* Radius */
	--radius-sm: 6px;
	--radius-md: 10px;
	--radius-lg: 14px;
	--radius-full: 9999px;

	/* Transition */
	--transition-fast: 150ms ease;
	--transition-normal: 250ms ease;
	--transition-slow: 400ms ease;

	/* Fonts */
	--font-body: 'Nunito', system-ui, -apple-system, sans-serif;
	--font-heading: 'Merriweather', Georgia, serif;
}

/* ─── Reset & Base ─── */
* {
	box-sizing: border-box;
}

body {
	font-family: var(--font-body);
	margin: 0;
	padding: 0;
	background: var(--color-bg);
	color: var(--color-text);
	line-height: 1.6;
	-webkit-font-smoothing: antialiased;
}

/* ─── Typography ─── */
h1, h2, h3, h4 {
	font-family: var(--font-heading);
	line-height: 1.3;
	color: var(--color-text);
}

h1 {
	font-size: 1.75rem;
	font-weight: 700;
	margin-bottom: 8px;
}

h2 {
	font-size: 1.35rem;
	font-weight: 700;
}

h3 {
	font-size: 1.1rem;
	font-weight: 700;
}

/* ─── Page Content ─── */
.page-content {
	max-width: 800px;
	margin: 24px auto 48px;
	padding: 0 20px;
}

/* ─── Sections ─── */
.section {
	margin-bottom: 28px;
	margin-top: 28px;
}

/* ─── Labels ─── */
label {
	font-weight: 600;
	display: block;
	margin-bottom: 8px;
	color: var(--color-text);
	font-size: 0.95rem;
}

/* ─── Form Elements ─── */
select,
textarea,
button {
	width: 100%;
	font-size: 1rem;
	font-family: var(--font-body);
	padding: 10px 14px;
	border-radius: var(--radius-sm);
}

select {
	border: 1.5px solid var(--color-border);
	background: var(--color-surface);
	color: var(--color-text);
	transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
	cursor: pointer;
}

select:focus {
	outline: none;
	border-color: var(--color-primary);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

select:disabled {
	background: var(--color-surface-alt);
	color: var(--color-text-muted);
	cursor: not-allowed;
}

textarea {
	min-height: 80px;
	resize: vertical;
	border: 1.5px solid var(--color-border);
	background: var(--color-surface);
	transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

textarea:focus {
	outline: none;
	border-color: var(--color-primary);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

input[type='email'] {
	width: 100%;
	font-size: 1rem;
	font-family: var(--font-body);
	padding: 10px 14px;
	border: 1.5px solid var(--color-border);
	border-radius: var(--radius-sm);
	background: var(--color-surface);
	transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

input[type='email']:focus {
	outline: none;
	border-color: var(--color-primary);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

/* ─── Buttons ─── */
button {
	cursor: pointer;
	border: none;
	font-weight: 600;
	transition: background var(--transition-fast), box-shadow var(--transition-fast);
}


.btn-primary {
	background: var(--color-primary);
	color: white;
	border: none;
	padding: 12px 24px;
	font-size: 1rem;
	font-weight: 600;
	font-family: var(--font-body);
	border-radius: var(--radius-md);
	cursor: pointer;
	width: 100%;
	transition: background var(--transition-fast), box-shadow var(--transition-fast);
}

.btn-primary:hover {
	background: var(--color-primary-hover);
	box-shadow: var(--shadow-md);
}


.btn-primary:disabled {
	background: var(--color-text-muted);
	cursor: not-allowed;
	transform: none;
}

.btn-secondary {
	background: var(--color-surface);
	color: var(--color-text);
	border: 1.5px solid var(--color-border);
	padding: 8px 16px;
	font-size: 0.9rem;
	font-weight: 600;
	font-family: var(--font-body);
	border-radius: var(--radius-sm);
	cursor: pointer;
	transition: background var(--transition-fast), border-color var(--transition-fast);
}

.btn-secondary:hover {
	background: var(--color-surface-alt);
	border-color: var(--color-border-hover);
}


.btn-google {
	background: white;
	color: var(--color-text);
	border: 1.5px solid var(--color-border);
	padding: 12px 24px;
	font-size: 1rem;
	font-weight: 600;
	font-family: var(--font-body);
	border-radius: var(--radius-md);
	cursor: pointer;
	width: 100%;
	transition: background var(--transition-fast), box-shadow var(--transition-fast);
}

.btn-google:hover {
	background: var(--color-surface-alt);
	box-shadow: var(--shadow-sm);
}

.btn-google:disabled {
	background: var(--color-surface-alt);
	color: var(--color-text-muted);
	cursor: not-allowed;
}

/* ─── Login Page ─── */
.login-container {
	max-width: 420px;
	margin: 80px auto;
	padding: 0 20px;
	text-align: center;
}

.login-container h1 {
	margin-bottom: 8px;
}

.login-container .subtitle {
	color: var(--color-text-secondary);
	margin-bottom: 32px;
	font-size: 1.05rem;
}

.login-box {
	background: var(--color-surface);
	padding: 28px;
	border-radius: var(--radius-lg);
	border: 1.5px solid var(--color-border);
	box-shadow: var(--shadow-md);
}

.login-box .section {
	margin-bottom: 16px;
	margin-top: 0;
}

.login-box label {
	text-align: left;
}

.divider {
	display: flex;
	align-items: center;
	margin: 20px 0;
}

.divider::before,
.divider::after {
	content: '';
	flex: 1;
	border-bottom: 1px solid var(--color-border);
}

.divider span {
	padding: 0 12px;
	color: var(--color-text-muted);
	font-size: 0.9rem;
}

.guest-link {
	margin-top: 24px;
}

.guest-link a {
	color: var(--color-text-secondary);
	text-decoration: none;
	font-weight: 500;
}

.guest-link a:hover {
	color: var(--color-primary);
	text-decoration: underline;
}

.login-status {
	margin-top: 16px;
	color: var(--color-text-secondary);
	font-size: 0.9rem;
}

/* ─── Question Inputs ─── */
.question {
	margin-bottom: 15px;
}

.question input {
	width: 100%;
	font-size: 1rem;
	font-family: var(--font-body);
	padding: 10px 14px;
	border: 1.5px solid var(--color-border);
	border-radius: var(--radius-sm);
	background: var(--color-surface);
	transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.question input:focus {
	outline: none;
	border-color: var(--color-primary);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

/* ─── Add Question Button ─── */
.add-question {
	margin-top: 10px;
	margin-bottom: 15px;
	background: var(--color-surface);
	border: 1.5px dashed var(--color-border);
	color: var(--color-primary);
	font-weight: 600;
	border-radius: var(--radius-sm);
	padding: 10px;
}

.add-question:hover {
	border-color: var(--color-primary);
	background: var(--color-primary-light);
}

/* ─── Submit Button ─── */
.submit {
	font-size: 1.1rem;
	padding: 14px;
	background: var(--color-primary);
	color: white;
	border: none;
	border-radius: var(--radius-md);
	font-weight: 700;
}

.submit:hover:not(:disabled) {
	background: var(--color-primary-hover);
	box-shadow: var(--shadow-md);
}

.submit:disabled {
	background: var(--color-text-muted);
	cursor: not-allowed;
}

/* ─── File Input ─── */
input[type='file'] {
	margin-bottom: 15px;
}

/* ─── PDF Status ─── */
.pdf-status {
	margin-top: 10px;
	font-weight: 600;
	color: var(--color-primary);
}

/* ─── Question Block (Session View) ─── */
.question-block {
	margin-bottom: 28px;
	padding: 20px;
	background: var(--color-surface);
	border-radius: var(--radius-lg);
	border: 1.5px solid var(--color-border);
	box-shadow: var(--shadow-sm);
	transition: box-shadow var(--transition-normal);
}

.question-block:hover {
	box-shadow: var(--shadow-md);
}

.question-block h3 {
	margin-bottom: 8px;
}

/* ─── Prediction Row ─── */
.prediction {
	margin-left: 10px;
	margin-bottom: 10px;
}

/* ─── Clickable Subtopic ─── */
.clickable {
	color: var(--color-primary);
	cursor: pointer;
	text-decoration: underline;
	text-decoration-color: var(--color-primary-glow);
	text-underline-offset: 2px;
}

.clickable:hover {
	color: var(--color-primary-hover);
}

/* ─── Subtopic Description ─── */
.description {
	margin-left: 20px;
	margin-top: 4px;
	padding: 8px 12px;
	background: var(--color-primary-light);
	border-left: 3px solid var(--color-primary);
	border-radius: var(--radius-sm);
	font-size: 0.92rem;
	color: var(--color-text);
}

/* ─── Total Marks ─── */
.total_marks {
	text-align: right;
}

/* ─── Editable Question Text ─── */
.editable-question-text {
	width: 100%;
	min-height: 40px;
	padding: 6px 8px;
	font-size: 0.95rem;
	font-family: var(--font-body);
	border: 1.5px solid transparent;
	border-radius: var(--radius-sm);
	background: transparent;
	resize: none;
	overflow: hidden;
	transition: border-color var(--transition-fast), background-color var(--transition-fast);
}

.editable-question-text:hover {
	border-color: var(--color-border);
	background: var(--color-surface-alt);
}

.editable-question-text:focus {
	outline: none;
	border-color: var(--color-primary);
	background: var(--color-surface);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

/* ─── Editable Marks Available ─── */
.marks-available-row {
	display: flex;
	align-items: center;
	gap: 2px;
	justify-content: flex-end;
}

.marks-label {
	color: var(--color-text-secondary);
	font-size: 0.95rem;
}

.editable-marks-available {
	width: 60px;
	padding: 2px 6px;
	font-size: 0.95rem;
	font-family: var(--font-body);
	border: 1.5px solid transparent;
	border-radius: var(--radius-sm);
	background: transparent;
	text-align: center;
	transition: border-color var(--transition-fast), background-color var(--transition-fast);
	-moz-appearance: textfield;
}

.editable-marks-available::-webkit-outer-spin-button,
.editable-marks-available::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
}

.editable-marks-available:hover {
	border-color: var(--color-border);
	background: var(--color-surface-alt);
}

.editable-marks-available:focus {
	outline: none;
	border-color: var(--color-primary);
	background: var(--color-surface);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

/* ─── Session Header ─── */
.session-header {
	margin-bottom: 24px;
	padding-bottom: 16px;
	border-bottom: 1.5px solid var(--color-border);
}

.session-header h2 {
	margin-bottom: 8px;
}

.session-meta {
	color: var(--color-text-secondary);
	font-size: 0.9rem;
}

/* ─── Back Link ─── */
.back-link {
	display: inline-block;
	margin-bottom: 24px;
	text-decoration: none;
}

/* ─── Loading, Error, Empty States ─── */
.loading {
	text-align: center;
	padding: 24px;
	color: var(--color-text-secondary);
}

.empty-state,
.error-state {
	text-align: center;
	padding: 48px 24px;
	color: var(--color-text-secondary);
}

.empty-state a,
.error-state a {
	color: var(--color-primary);
	font-weight: 600;
}

.empty-state a:hover,
.error-state a:hover {
	color: var(--color-primary-hover);
}

/* ─── Save Indicator ─── */
.save-indicator {
	font-size: 0.85rem;
	font-weight: 600;
	padding: 6px 14px;
	border-radius: var(--radius-full);
	float: right;
	animation: slideIn 0.3s ease;
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateX(10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

.save-indicator.saving {
	color: var(--color-warning);
	background: var(--color-warning-bg);
}

.save-indicator.saved {
	color: var(--color-success);
	background: var(--color-success-bg);
}

.save-indicator.error {
	color: var(--color-error);
	background: var(--color-error-bg);
}

/* ─── Number Input Arrows ─── */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
}

input[type="number"] {
	-moz-appearance: textfield;
}

/* ─── Marks Achieved Input ─── */
.marks-achieved {
	width: 120px;
	padding: 6px 10px;
	font-size: 0.95rem;
	font-family: var(--font-body);
	border: 1.5px solid var(--color-border);
	border-left: 3px solid var(--color-border);
	border-radius: var(--radius-sm);
	margin-top: 8px;
	transition: background-color 0.3s ease, border-left-color 0.3s ease, box-shadow 0.3s ease;
}

.marks-achieved.marks-full {
	border-left-color: var(--color-success);
	background-color: var(--color-success-bg);
}

.marks-achieved.marks-high {
	border-left-color: #4ade80;
	background-color: rgba(74, 222, 128, 0.1);
}

.marks-achieved.marks-mid {
	border-left-color: var(--color-warning);
	background-color: var(--color-warning-bg);
}

.marks-achieved.marks-zero {
	border-left-color: var(--color-error);
	background-color: var(--color-error-bg);
}

.marks-achieved.marks-invalid {
	border-left-color: #991B1B;
	background-color: rgba(153, 27, 27, 0.1);
}

.marks-error {
	color: #991B1B;
	font-size: 0.85rem;
	margin: 4px 0 0;
}

.marks-achieved:focus {
	outline: none;
	border-color: var(--color-primary);
	box-shadow: 0 0 0 3px var(--color-primary-glow);
}

/* ─── History Page ─── */
.sessions-list {
	margin-top: 24px;
}

a.session-card {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 16px 20px;
	border: 1.5px solid var(--color-border);
	border-radius: var(--radius-lg);
	margin-bottom: 12px;
	cursor: pointer;
	background: var(--color-surface);
	box-shadow: var(--shadow-sm);
	transition: background var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
	text-decoration: none;
	color: inherit;
}

a.session-card:hover {
	background: var(--color-surface);
	border-color: var(--color-primary);
	box-shadow: var(--shadow-md);
	transform: translateY(-2px);
}

.session-info {
	flex: 1;
}

.session-subject {
	font-weight: 700;
	font-size: 1.05rem;
	margin-bottom: 4px;
	color: var(--color-text);
}

.session-questions {
	color: var(--color-primary);
	font-weight: 700;
}

/* ─── Quick-Select Button on Predictions ─── */
.btn-select-pred {
	display: inline-block;
	margin-left: 8px;
	margin-top: 6px;
	padding: 2px 10px;
	font-size: 0.8rem;
	font-family: var(--font-body);
	font-weight: 600;
	border: 1.5px solid var(--color-border);
	border-radius: var(--radius-full);
	background: var(--color-surface);
	color: var(--color-text-secondary);
	cursor: pointer;
	transition: all var(--transition-fast);
	vertical-align: middle;
}

.btn-select-pred:hover {
	border-color: var(--color-primary);
	color: var(--color-primary);
}

.btn-select-pred:active {
	transform: scale(0.95);
}

.btn-select-pred.selected {
	background: var(--color-primary);
	color: #fff;
	border-color: var(--color-primary);
}

.btn-select-pred.selected:hover {
	background: var(--color-primary-hover);
	border-color: var(--color-primary-hover);
}

/* ─── Topic Selector ─── */
.topic-selector {
	margin-top: 12px;
	padding: 12px 14px;
	background: var(--color-surface-alt);
	border-radius: var(--radius-md);
	border-left: 3px solid var(--color-primary);
}

.topic-selector-label {
	font-weight: 700;
	font-size: 0.9rem;
	margin: 0 0 8px 0;
	color: var(--color-text);
}

.topic-selector-loading {
	color: var(--color-text-secondary);
	font-size: 0.85rem;
	margin: 0;
}

/* ─── Topic Chips ─── */
.topic-chips {
	display: flex;
	flex-wrap: wrap;
	gap: 6px;
	margin-bottom: 8px;
}

.topic-chip {
	display: inline-flex;
	align-items: center;
	gap: 4px;
	padding: 4px 12px;
	background: var(--color-primary-light);
	border: 1.5px solid #99F6E4;
	border-radius: var(--radius-full);
	font-size: 0.82rem;
	font-weight: 600;
	color: #0F766E;
	animation: chipBounce 0.3s ease;
}

@keyframes chipBounce {
	0% { transform: scale(0.8); opacity: 0; }
	60% { transform: scale(1.05); }
	100% { transform: scale(1); opacity: 1; }
}

.chip-remove {
	background: none;
	border: none;
	color: var(--color-text-secondary);
	cursor: pointer;
	font-size: 1rem;
	padding: 0 2px;
	line-height: 1;
	width: auto;
	transition: color var(--transition-fast);
}

.chip-remove:hover {
	color: var(--color-error);
}

/* ─── Dropdown Row ─── */
.dropdown-row {
	display: flex;
	gap: 6px;
	align-items: center;
	flex-wrap: wrap;
}

.dropdown-row select {
	flex: 1;
	min-width: 120px;
	padding: 6px 8px;
	font-size: 0.85rem;
	font-family: var(--font-body);
	border: 1.5px solid var(--color-border);
	border-radius: var(--radius-sm);
	background: var(--color-surface);
}

.dropdown-row select:disabled {
	background: var(--color-surface-alt);
	color: var(--color-text-muted);
}

.btn-add-topic {
	padding: 6px 14px;
	font-size: 0.85rem;
	font-family: var(--font-body);
	font-weight: 600;
	background: var(--color-primary);
	color: #fff;
	border: none;
	border-radius: var(--radius-sm);
	cursor: pointer;
	white-space: nowrap;
	width: auto;
	transition: background var(--transition-fast);
}

.btn-add-topic:hover {
	background: var(--color-primary-hover);
}

.btn-add-topic:disabled {
	background: var(--color-text-muted);
	cursor: not-allowed;
}

/* ─── Reduced Motion ─── */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}
